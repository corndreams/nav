import"./base-D2Z0bTVl.js";import{E as y}from"./el-scrollbar-VgPjJ-YD.js";import{a3 as g,h,j as m,M as t,L as P,k as v,n as l,R as d,t as a,x as p}from"./index-B7_oQe1_.js";import"./_baseGet-8zhvFbig.js";const u=[{title:"打上花火",link:"db/music/打上花火.mp3",cover:"db/img/打上花火.jpg"},{title:"Mojito",link:"db/music/Mojito.mp3",cover:"db/img/Mojito.jpg"},{title:"Super_Star",link:"db/music/Super_Star.mp3",cover:"db/img/Super_Star.jpg"},{title:"离人",link:"db/music/离人.mp3",cover:"db/img/离人.jpg"}],x={data(){return{isPlay:!1,curMusic:{},curIndex:0,curProgress:"0%"}},methods:{playSong(){const e=this.$refs.audio;this.isPlay?e.pause():e.play(),this.isPlay=!this.isPlay},changeSong(e){e==="pre"?(this.curIndex--,this.curIndex<0&&(this.curIndex=u.length-1)):e==="next"&&(this.curIndex=(this.curIndex+1)%u.length),this.curMusic=u[this.curIndex],e!=="cur"&&(this.isPlay=!0,this.$nextTick(()=>{this.$refs.audio.play()}))},updateProgress(e){const{duration:s,currentTime:r}=e.target,c=r/s*100;this.curProgress=`${c}%`},setProgress(e){const s=this.$refs.progressContainer.clientWidth,r=e.offsetX,c=this.$refs.audio.duration;this.$refs.audio.currentTime=r/s*c}},mounted(){this.changeSong("cur")}},k={class:"musicInfo"},S={class:"musicTitle"},M={class:"musicCover"},C=["src"],b={class:"musicControls"},j=t("i",{class:"fas fa-backward"},null,-1),$=[j],B=t("i",{class:"fas fa-forward"},null,-1),I=[B],w=["src"];function T(e,s,r,c,o,i){return h(),m("div",{class:l(["musicContainer",{isPlay:o.isPlay}])},[t("div",k,[t("div",S,P(o.curMusic.title),1),t("div",{class:"progressContainer",ref:"progressContainer",onClick:s[0]||(s[0]=(...n)=>i.setProgress&&i.setProgress(...n))},[t("div",{class:"progress",style:v({width:o.curProgress})},null,4)],512)]),t("div",M,[t("img",{src:o.curMusic.cover,alt:""},null,8,C)]),t("div",b,[t("div",{class:"actionBtn",onClick:s[1]||(s[1]=n=>i.changeSong("pre"))},$),t("div",{class:l(["actionBtn","actionBtnBig"]),onClick:s[2]||(s[2]=(...n)=>i.playSong&&i.playSong(...n))},[t("i",{class:l(`fas ${o.isPlay?"fa-pause":"fa-play"}`)},null,2)]),t("div",{class:"actionBtn",onClick:s[3]||(s[3]=n=>i.changeSong("next"))},I)]),t("audio",{ref:"audio",src:o.curMusic.link,onTimeupdate:s[4]||(s[4]=(...n)=>i.updateProgress&&i.updateProgress(...n)),onEnded:s[5]||(s[5]=n=>i.changeSong("next"))},null,40,w)],2)}const E=g(x,[["render",T]]),L={components:{MusicPlayer:E}},z={class:"page"},H=t("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Lato&display=swap"},null,-1),N=t("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css"},null,-1),V=t("h1",null,"Music Player",-1);function X(e,s,r,c,o,i){const n=d("Head"),_=d("MusicPlayer"),f=y;return h(),m("div",z,[a(n,null,{default:p(()=>[H,N]),_:1}),a(f,null,{default:p(()=>[V,a(_)]),_:1})])}const A=g(L,[["render",X]]);export{A as default};
