import{h as fe,j as ve,k as ee,l as me,S as G,i as te,m as I,n as re,f as K,g as de,b as M,a as pe,d as he}from"./_baseGet-DWbjgkwa.js";import{e as R,b as ne,r as p,c as O,a as be,E as U,h as x,v as B,x as ae,l as ge,M as $,n as N,u as y,k,G as ye,H as Se,j as le,t as X,F as we,w as q,p as _e,Z as ze,o as Ee,A as Y,ac as Pe,f as Oe,O as Te,z as He,q as xe}from"./index-CYdbwONi.js";import{a as A,_ as W,e as se,d as Ne,c as H,j as V,w as Ce}from"./base-C_l85BUc.js";function Re(e){return e}function Ae(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Le=800,Me=16,Be=Date.now;function $e(e){var t=0,r=0;return function(){var a=Be(),n=Me-(a-r);if(r=a,n>0){if(++t>=Le)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ke(e){return function(){return e}}var C=function(){try{var e=fe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ie=C?function(e,t){return C(e,"toString",{configurable:!0,enumerable:!1,value:ke(t),writable:!0})}:Re,We=$e(Ie),De=9007199254740991,Fe=/^(?:0|[1-9]\d*)$/;function oe(e,t){var r=typeof e;return t=t??De,!!t&&(r=="number"||r!="symbol"&&Fe.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e,t,r){t=="__proto__"&&C?C(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ke=Object.prototype,Ue=Ke.hasOwnProperty;function Xe(e,t,r){var a=e[t];(!(Ue.call(e,t)&&ve(a,r))||r===void 0&&!(t in e))&&Ge(e,t,r)}var Z=Math.max;function qe(e,t,r){return t=Z(t===void 0?e.length-1:t,0),function(){for(var a=arguments,n=-1,s=Z(a.length-t,0),c=Array(s);++n<s;)c[n]=a[t+n];n=-1;for(var i=Array(t+1);++n<t;)i[n]=a[n];return i[t]=r(c),Ae(e,this,i)}}var Ye=9007199254740991;function Ve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ye}var Ze="[object Arguments]";function J(e){return ee(e)&&me(e)==Ze}var ie=Object.prototype,Je=ie.hasOwnProperty,Qe=ie.propertyIsEnumerable,ue=J(function(){return arguments}())?J:function(e){return ee(e)&&Je.call(e,"callee")&&!Qe.call(e,"callee")};function je(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}var Q=G?G.isConcatSpreadable:void 0;function et(e){return te(e)||ue(e)||!!(Q&&e&&e[Q])}function tt(e,t,r,a,n){var s=-1,c=e.length;for(r||(r=et),n||(n=[]);++s<c;){var i=e[s];r(i)?je(n,i):n[n.length]=i}return n}function rt(e){var t=e==null?0:e.length;return t?tt(e):[]}function nt(e){return We(qe(e,void 0,rt),e+"")}function at(e,t){return e!=null&&t in Object(e)}function lt(e,t,r){t=I(t,e);for(var a=-1,n=t.length,s=!1;++a<n;){var c=re(t[a]);if(!(s=e!=null&&r(e,c)))break;e=e[c]}return s||++a!=n?s:(n=e==null?0:e.length,!!n&&Ve(n)&&oe(c,n)&&(te(e)||ue(e)))}function st(e,t){return e!=null&&lt(e,t,at)}function ot(e,t,r,a){if(!K(e))return e;t=I(t,e);for(var n=-1,s=t.length,c=s-1,i=e;i!=null&&++n<s;){var o=re(t[n]),v=r;if(o==="__proto__"||o==="constructor"||o==="prototype")return e;if(n!=c){var h=i[o];v=void 0,v===void 0&&(v=K(h)?h:oe(t[n+1])?[]:{})}Xe(i,o,v),i=i[o]}return e}function it(e,t,r){for(var a=-1,n=t.length,s={};++a<n;){var c=t[a],i=de(e,c);r(i,c)&&ot(s,I(c,e),i)}return s}function ut(e,t){return it(e,t,function(r,a){return st(e,a)})}var ct=nt(function(e,t){return e==null?{}:ut(e,t)});class ft extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function vt(e,t){throw new ft(`[${e}] ${t}`)}const mt=A({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),dt=e=>ct(mt,e),P=4,pt={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},ht=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),D=Symbol("scrollbarContextKey"),bt=A({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),gt="Thumb",yt=R({__name:"thumb",props:bt,setup(e){const t=e,r=ne(D),a=se("scrollbar");r||vt(gt,"can not inject scrollbar context");const n=p(),s=p(),c=p({}),i=p(!1);let o=!1,v=!1,h=pe?document.onselectstart:null;const u=O(()=>pt[t.vertical?"vertical":"horizontal"]),f=O(()=>ht({size:t.size,move:t.move,bar:u.value})),b=O(()=>n.value[u.value.offset]**2/r.wrapElement[u.value.scrollSize]/t.ratio/s.value[u.value.offset]),g=d=>{var w;if(d.stopPropagation(),d.ctrlKey||[1,2].includes(d.button))return;(w=window.getSelection())==null||w.removeAllRanges(),z(d);const E=d.currentTarget;E&&(c.value[u.value.axis]=E[u.value.offset]-(d[u.value.client]-E.getBoundingClientRect()[u.value.direction]))},_=d=>{if(!s.value||!n.value||!r.wrapElement)return;const w=Math.abs(d.target.getBoundingClientRect()[u.value.direction]-d[u.value.client]),E=s.value[u.value.offset]/2,L=(w-E)*100*b.value/n.value[u.value.offset];r.wrapElement[u.value.scroll]=L*r.wrapElement[u.value.scrollSize]/100},z=d=>{d.stopImmediatePropagation(),o=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",m),h=document.onselectstart,document.onselectstart=()=>!1},S=d=>{if(!n.value||!s.value||o===!1)return;const w=c.value[u.value.axis];if(!w)return;const E=(n.value.getBoundingClientRect()[u.value.direction]-d[u.value.client])*-1,L=s.value[u.value.offset]-w,ce=(E-L)*100*b.value/n.value[u.value.offset];r.wrapElement[u.value.scroll]=ce*r.wrapElement[u.value.scrollSize]/100},m=()=>{o=!1,c.value[u.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",m),F(),v&&(i.value=!1)},l=()=>{v=!1,i.value=!!t.size},T=()=>{v=!0,i.value=o};be(()=>{F(),document.removeEventListener("mouseup",m)});const F=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return M(U(r,"scrollbarElement"),"mousemove",l),M(U(r,"scrollbarElement"),"mouseleave",T),(d,w)=>(x(),B(Se,{name:y(a).b("fade"),persisted:""},{default:ae(()=>[ge($("div",{ref_key:"instance",ref:n,class:N([y(a).e("bar"),y(a).is(y(u).key)]),onMousedown:_},[$("div",{ref_key:"thumb",ref:s,class:N(y(a).e("thumb")),style:k(y(f)),onMousedown:g},null,38)],34),[[ye,d.always||i.value]])]),_:1},8,["name"]))}});var j=W(yt,[["__file","thumb.vue"]]);const St=A({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),wt=R({__name:"bar",props:St,setup(e,{expose:t}){const r=e,a=ne(D),n=p(0),s=p(0),c=p(""),i=p(""),o=p(1),v=p(1);return t({handleScroll:f=>{if(f){const b=f.offsetHeight-P,g=f.offsetWidth-P;s.value=f.scrollTop*100/b*o.value,n.value=f.scrollLeft*100/g*v.value}},update:()=>{const f=a==null?void 0:a.wrapElement;if(!f)return;const b=f.offsetHeight-P,g=f.offsetWidth-P,_=b**2/f.scrollHeight,z=g**2/f.scrollWidth,S=Math.max(_,r.minSize),m=Math.max(z,r.minSize);o.value=_/(b-_)/(S/(b-S)),v.value=z/(g-z)/(m/(g-m)),i.value=S+P<b?`${S}px`:"",c.value=m+P<g?`${m}px`:""}}),(f,b)=>(x(),le(we,null,[X(j,{move:n.value,ratio:v.value,size:c.value,always:f.always},null,8,["move","ratio","size","always"]),X(j,{move:s.value,ratio:o.value,size:i.value,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var _t=W(wt,[["__file","bar.vue"]]);const zt=A({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ne([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...dt(["ariaLabel","ariaOrientation"])}),Et={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(H)},Pt="ElScrollbar",Ot=R({name:Pt}),Tt=R({...Ot,props:zt,emits:Et,setup(e,{expose:t,emit:r}){const a=e,n=se("scrollbar");let s,c;const i=p(),o=p(),v=p(),h=p(),u=O(()=>{const l={};return a.height&&(l.height=V(a.height)),a.maxHeight&&(l.maxHeight=V(a.maxHeight)),[a.wrapStyle,l]}),f=O(()=>[a.wrapClass,n.e("wrap"),{[n.em("wrap","hidden-default")]:!a.native}]),b=O(()=>[n.e("view"),a.viewClass]),g=()=>{var l;o.value&&((l=h.value)==null||l.handleScroll(o.value),r("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function _(l,T){xe(l)?o.value.scrollTo(l):H(l)&&H(T)&&o.value.scrollTo(l,T)}const z=l=>{H(l)&&(o.value.scrollTop=l)},S=l=>{H(l)&&(o.value.scrollLeft=l)},m=()=>{var l;(l=h.value)==null||l.update()};return q(()=>a.noresize,l=>{l?(s==null||s(),c==null||c()):({stop:s}=he(v,m),c=M("resize",m))},{immediate:!0}),q(()=>[a.maxHeight,a.height],()=>{a.native||Y(()=>{var l;m(),o.value&&((l=h.value)==null||l.handleScroll(o.value))})}),_e(D,ze({scrollbarElement:i,wrapElement:o})),Ee(()=>{a.native||Y(()=>{m()})}),Pe(()=>m()),t({wrapRef:o,update:m,scrollTo:_,setScrollTop:z,setScrollLeft:S,handleScroll:g}),(l,T)=>(x(),le("div",{ref_key:"scrollbarRef",ref:i,class:N(y(n).b())},[$("div",{ref_key:"wrapRef",ref:o,class:N(y(f)),style:k(y(u)),onScroll:g},[(x(),B(Te(l.tag),{id:l.id,ref_key:"resizeRef",ref:v,class:N(y(b)),style:k(l.viewStyle),role:l.role,"aria-label":l.ariaLabel,"aria-orientation":l.ariaOrientation},{default:ae(()=>[Oe(l.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),l.native?He("v-if",!0):(x(),B(_t,{key:0,ref_key:"barRef",ref:h,always:l.always,"min-size":l.minSize},null,8,["always","min-size"]))],2))}});var Ht=W(Tt,[["__file","scrollbar.vue"]]);const Rt=Ce(Ht);export{Rt as E,vt as t,dt as u};
