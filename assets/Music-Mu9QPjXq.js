import"./base-BmAbL7B5.js";import{E as h}from"./el-scrollbar-Bty8vDkb.js";import{a3 as d,h as g,j as p,M as t,L as _,k as f,n as a,R as P,t as u,x as v}from"./index-DQmt03G4.js";import"./baseGet-B_7WHhiE.js";const l=[{title:"打上花火",link:"./db/music/打上花火.mp3",cover:"./db/img/打上花火.jpg"},{title:"Mojito",link:"./db/music/Mojito.mp3",cover:"./db/img/Mojito.jpg"},{title:"Super_Star",link:"./db/music/Super_Star.mp3",cover:"./db/img/Super_Star.jpg"},{title:"离人",link:"./db/music/离人.mp3",cover:"./db/img/离人.jpg"}],y={data(){return{isPlay:!1,curMusic:{},curIndex:0,curProgress:"0%"}},methods:{playSong(){const e=this.$refs.audio;this.isPlay?e.pause():e.play(),this.isPlay=!this.isPlay},changeSong(e){e==="pre"?(this.curIndex--,this.curIndex<0&&(this.curIndex=l.length-1)):e==="next"&&(this.curIndex=(this.curIndex+1)%l.length),this.curMusic=l[this.curIndex],e!=="cur"&&(this.isPlay=!0,this.$nextTick(()=>{this.$refs.audio.play()}))},updateProgress(e){const{duration:s,currentTime:o}=e.target,c=o/s*100;this.curProgress=`${c}%`},setProgress(e){const s=this.$refs.progressContainer.clientWidth,o=e.offsetX,c=this.$refs.audio.duration;this.$refs.audio.currentTime=o/s*c}},mounted(){this.changeSong("cur")}},x={class:"musicInfo"},S={class:"musicTitle"},k={class:"musicCover"},M=["src"],C={class:"musicControls"},b=t("i",{class:"fas fa-backward"},null,-1),j=[b],B=t("i",{class:"fas fa-forward"},null,-1),I=[B],$=["src"];function w(e,s,o,c,n,i){return g(),p("div",{class:a(["musicContainer",{isPlay:n.isPlay}])},[t("div",x,[t("div",S,_(n.curMusic.title),1),t("div",{class:"progressContainer",ref:"progressContainer",onClick:s[0]||(s[0]=(...r)=>i.setProgress&&i.setProgress(...r))},[t("div",{class:"progress",style:f({width:n.curProgress})},null,4)],512)]),t("div",k,[t("img",{src:n.curMusic.cover,alt:""},null,8,M)]),t("div",C,[t("div",{class:"actionBtn",onClick:s[1]||(s[1]=r=>i.changeSong("pre"))},j),t("div",{class:a(["actionBtn","actionBtnBig"]),onClick:s[2]||(s[2]=(...r)=>i.playSong&&i.playSong(...r))},[t("i",{class:a(`fas ${n.isPlay?"fa-pause":"fa-play"}`)},null,2)]),t("div",{class:"actionBtn",onClick:s[3]||(s[3]=r=>i.changeSong("next"))},I)]),t("audio",{ref:"audio",src:n.curMusic.link,onTimeupdate:s[4]||(s[4]=(...r)=>i.updateProgress&&i.updateProgress(...r)),onEnded:s[5]||(s[5]=r=>i.changeSong("next"))},null,40,$)],2)}const T=d(y,[["render",w]]),E={components:{MusicPlayer:T}},z={class:"page"},L=t("h1",null,"Music Player",-1);function N(e,s,o,c,n,i){const r=P("MusicPlayer"),m=h;return g(),p("div",z,[u(m,null,{default:v(()=>[L,u(r)]),_:1})])}const W=d(E,[["render",N]]);export{W as default};
